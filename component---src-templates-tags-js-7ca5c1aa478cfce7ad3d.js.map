{"version":3,"sources":["webpack:///./src/templates/tags.js","webpack:///./src/components/post-column.js"],"names":["Tags","pageContext","data","location","siteTitle","site","siteMetadata","title","tag","allMarkdownRemark","edges","tagHeader","totalCount","style","listStyle","sort","a","b","atime","btime","node","frontmatter","category","created","updated","Date","parse","map","to","PostColumnTemplate","date","className","key","fields","slug","itemScope","itemType","itemProp","dateStr","id","dangerouslySetInnerHTML","__html","description","excerpt","author","name","filename","borderRadius","fixed"],"mappings":"4FAAA,oEAoEeA,UA3DF,SAAC,GAAqC,IAAD,EAAlCC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SAC3BC,GAAY,UAAAF,EAAKG,KAAKC,oBAAV,eAAwBC,QAAxB,QACVC,EAAQP,EAARO,IAFwC,EAGlBN,EAAKO,kBAA3BC,EAHwC,EAGxCA,MAIFC,EAAS,IAAOH,EAAP,OAPiC,EAGjCI,WAIA,IACf,OACE,kBAAC,IAAD,CAAQT,SAAUA,EAAUI,MAAOH,GACjC,4BAAKO,GACL,wBAAIE,MAAO,CAAEC,UAAU,SACpBJ,EACEK,MAAK,SAAUC,EAAGC,GACjB,IAAIC,EAAOC,EAWX,OATED,EADkC,UAAhCF,EAAEI,KAAKC,YAAYC,SACbN,EAAEI,KAAKC,YAAYE,QAEnBP,EAAEI,KAAKC,YAAYG,QAG3BL,EADkC,UAAhCF,EAAEG,KAAKC,YAAYC,SACbL,EAAEG,KAAKC,YAAYE,QAEnBN,EAAEG,KAAKC,YAAYG,QAEtBC,KAAKC,MAAMP,GAASM,KAAKC,MAAMR,MAEvCS,KAAI,YAAe,IAAZP,EAAW,EAAXA,KACN,OAAO,kBAAC,IAAD,CAAYA,KAAMA,QAG/B,kBAAC,IAAD,CAAMQ,GAAG,SAAT,e,kCCxCN,6DAgFeC,IA1EY,SAAC,GAAc,IAAD,IAAXT,EAAW,EAAXA,KAExBU,EAAO,KAMX,OAJEA,EADgC,UAA9BV,EAAKC,YAAYC,SACZF,EAAKC,YAAYE,QAEjBH,EAAKC,YAAYG,QAGxB,wBAAIO,UAAU,YAAYC,IAAKZ,EAAKa,OAAOC,MACzC,6BACEH,UAAU,iBACVI,WAAS,EACTC,SAAS,6BAET,gCACE,+BACE,yBAAKL,UAAS,YAAcX,EAAKC,YAAYC,UAC3C,kBAAC,IAAD,CAAMM,GAAE,aAAeR,EAAKC,YAAYC,SAAhC,KACLF,EAAKC,YAAYC,YAIxB,4BACE,kBAAC,IAAD,CAAMM,GAAIR,EAAKa,OAAOC,KAAMG,SAAS,OACnC,0BAAMA,SAAS,YAAYjB,EAAKC,YAAYd,SAGhD,+BACE,kBAAC,IAAD,CAAc+B,QAASR,KAEzB,yBAAKC,UAAU,YAAf,UACGX,EAAKC,YAAYb,WADpB,aACG,EAAsBmB,KAAI,SAAAnB,GACzB,OACE,2BAAOwB,IAAK,YAAcxB,EAAI+B,IAC5B,yBAAKR,UAAU,OACb,kBAAC,IAAD,CAAMH,GAAE,QAAUpB,EAAV,KAAmBA,UAOvC,iCACE,uBACEgC,wBAAyB,CACvBC,OAAQrB,EAAKC,YAAYqB,aAAetB,EAAKuB,SAE/CN,SAAS,iBAtCf,UAyCGjB,EAAKC,YAAYuB,cAzCpB,aAyCG,EAAyBjB,KAAI,SAAAkB,GAC5B,OACE,2BAAOb,IAAK,eACV,kBAAC,IAAD,CAAMJ,GAAE,WAAaiB,EAAb,IAAsBd,UAAU,gBACtC,gCACE,kBAAC,IAAD,CACEe,SAAU,eAAiBD,EAAO,OAClChC,MAAO,CACLkC,aAAa,OAEfC,OAAO,KAGX,6BAAMH,SAMhB","file":"component---src-templates-tags-js-7ca5c1aa478cfce7ad3d.js","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\n\n// Components\nimport { Link, graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport PostColumn from \"../components/post-column\"\n\nconst Tags = ({ pageContext, data, location }) => {\n  const siteTitle = data.site.siteMetadata?.title || `Title`\n  const { tag } = pageContext\n  const { edges, totalCount } = data.allMarkdownRemark\n  // const tagHeader = `${totalCount} post${\n  //   totalCount === 1 ? \"\" : \"s\"\n  // } tagged with \"${tag}\"`\n  const tagHeader = `\"${tag}\" : ${totalCount}ä»¶`\n  return (\n    <Layout location={location} title={siteTitle}>\n      <h2>{tagHeader}</h2>\n      <ol style={{ listStyle: `none` }}>\n        {edges\n          .sort(function (a, b) {\n            let atime, btime\n            if (a.node.frontmatter.category === \"diary\") {\n              atime = a.node.frontmatter.created\n            } else {\n              atime = a.node.frontmatter.updated\n            }\n            if (b.node.frontmatter.category === \"diary\") {\n              btime = b.node.frontmatter.created\n            } else {\n              btime = b.node.frontmatter.updated\n            }\n            return Date.parse(btime) - Date.parse(atime)\n          })\n          .map(({ node }) => {\n            return <PostColumn node={node} />\n          })}\n      </ol>\n      <Link to=\"/tags\">All tags</Link>\n    </Layout>\n  )\n}\n\nTags.propTypes = {\n  pageContext: PropTypes.shape({\n    tag: PropTypes.string.isRequired\n  }),\n  data: PropTypes.shape({\n    allMarkdownRemark: PropTypes.shape({\n      totalCount: PropTypes.number.isRequired,\n      edges: PropTypes.arrayOf(\n        PropTypes.shape({\n          node: PropTypes.shape({\n            frontmatter: PropTypes.shape({\n              title: PropTypes.string.isRequired\n            }),\n            fields: PropTypes.shape({\n              slug: PropTypes.string.isRequired\n            })\n          })\n        }).isRequired\n      )\n    })\n  })\n}\n\nexport default Tags\n\nexport const pageQuery = graphql`\n  query($tag: String) {\n    site {\n      siteMetadata {\n        title\n        author {\n          name\n          summary\n          social {\n            github\n          }\n        }\n      }\n    }\n    allMarkdownRemark(\n      limit: 2000\n      sort: { fields: [frontmatter___created], order: DESC }\n      filter: { frontmatter: { tag: { in: [$tag] } } }\n    ) {\n      totalCount\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            description\n            created\n            updated\n            tag\n            author\n            category\n          }\n        }\n      }\n    }\n  }\n`\n","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport Image from \"./image\"\n\nimport DateStr2Date from \"../components/date\"\n\nconst PostColumnTemplate = ({ node }) => {\n  // let commentDate = new Date(node.frontmatter.created)\n  let date = null\n  if (node.frontmatter.category === \"diary\") {\n    date = node.frontmatter.created\n  } else {\n    date = node.frontmatter.updated\n  }\n  return (\n    <li className=\"post-list\" key={node.fields.slug}>\n      <article\n        className=\"post-list-item\"\n        itemScope\n        itemType=\"http://schema.org/Article\"\n      >\n        <header>\n          <small>\n            <div className={`category ${node.frontmatter.category}`}>\n              <Link to={`/category/${node.frontmatter.category}/`}>\n                {node.frontmatter.category}\n              </Link>\n            </div>\n          </small>\n          <h2>\n            <Link to={node.fields.slug} itemProp=\"url\">\n              <span itemProp=\"headline\">{node.frontmatter.title}</span>\n            </Link>\n          </h2>\n          <small>\n            <DateStr2Date dateStr={date} />\n          </small>\n          <div className=\"tag-list\">\n            {node.frontmatter.tag?.map(tag => {\n              return (\n                <small key={\"post-list\" + tag.id}>\n                  <div className=\"tag\">\n                    <Link to={`/tag/${tag}/`}>{tag}</Link>\n                  </div>\n                </small>\n              )\n            })}\n          </div>\n        </header>\n        <section>\n          <p\n            dangerouslySetInnerHTML={{\n              __html: node.frontmatter.description || node.excerpt,\n            }}\n            itemProp=\"description\"\n          />\n        </section>\n        {node.frontmatter.author?.map(name => {\n          return (\n            <small key={\"author-list\"}>\n              <Link to={`/author/${name}/`} className=\"profile-mini\">\n                <figure>\n                  <Image\n                    filename={\"profile-pic-\" + name + \".jpg\"}\n                    style={{\n                      borderRadius: `50%`,\n                    }}\n                    fixed={true}\n                  />\n                </figure>\n                <div>{name}</div>\n              </Link>\n            </small>\n          )\n        })}\n      </article>\n      <hr />\n    </li>\n  )\n}\nexport default PostColumnTemplate\n"],"sourceRoot":""}