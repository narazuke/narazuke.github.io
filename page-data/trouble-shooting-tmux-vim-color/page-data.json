{"componentChunkName":"component---src-templates-blog-post-js","path":"/trouble-shooting-tmux-vim-color/","result":{"data":{"site":{"siteMetadata":{"title":"NARAZUKE","author":[{"name":"nozzle","summary":"who lives in gummaken.","social":{"github":"nozzlex3"}},{"name":"konnyaku","summary":"who is known as Siege Sukosuko Samurai.","social":{"github":"wabetarou"}}]}},"markdownRemark":{"id":"8bf30d77-1a0b-59da-b6b8-74f1e4d04d6e","excerpt":"経緯 tmux で開いた vim の表示が明らかにおかしい \nおかしい 解決法 .bashrc に以下を追記する \nやったね 解説 色がおかしいのは 256 色表示ができていないから で tmux を強制 256 色表示にできる うまくいかなかった解決策 .tmux.conf…","html":"<h2>経緯</h2>\n<p>tmux で開いた vim の表示が明らかにおかしい</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; overflow: visible\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/09da3bcf984ed71fdcaebf6d002e991a/ddc81/01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXUlEQVQ4y6WTz07CQBDG96ItIUih3f6jm7YLRfRg4k0xRiP6FEIqHgxcvPggRAI8BT7j5+wW1GOLhy+TdmZ+/WYmZcvlJ1arFRaLhY6bzaaS1uu1lurffm3BOOeo1+swTBPmgVL9jDFMX6dgsRCIRQdREMB13YMUUG+tVsN8Pt8BOyFietkht7ZtazmOU1oKahgGZrMZWJok8FTCdn6+qIqqQFWPGj3P8wKY+B4ScpimEuqZ8+pANfJ4PAbrZRnCKILr+0gI5lPcw8pC98DJhICZlOjTDlM6TBiF4Ls9Vt2hdqiAPQIKggjPI5duATvQoQZm/T4iESEIQ0jaoaCr/8tht9vVYyqpRNmR/9b87nACJmVaJPmumCIvqT3Qo3UVV34mhzJDu+XgpGGh2WhRLCsLVrONlmVrHR+ZeMnp17t9usDN6BzD0QA3j2eVdHV/iuEDxbsBLq9jvH+84RvAMooEijFhHQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"01\"\n        title=\"01\"\n        src=\"/static/09da3bcf984ed71fdcaebf6d002e991a/f058b/01.png\"\n        srcset=\"/static/09da3bcf984ed71fdcaebf6d002e991a/c26ae/01.png 158w,\n/static/09da3bcf984ed71fdcaebf6d002e991a/6bdcf/01.png 315w,\n/static/09da3bcf984ed71fdcaebf6d002e991a/f058b/01.png 630w,\n/static/09da3bcf984ed71fdcaebf6d002e991a/ddc81/01.png 837w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<em>おかしい</em></p>\n<h2>解決法</h2>\n<p>.bashrc に以下を追記する</p>\n<div class=\"gatsby-code-title\">.bashrc</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">tmux</span><span class=\"token operator\">=</span><span class=\"token string\">\"tmux -2\"</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; overflow: visible\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7338b5bcb37ddacfbdbced13f968a097/0012b/02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.291139240506325%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACM0lEQVQ4y32Ry27aQBSGLaFyW4AxHgzYxsaQkIhrU8o1XCSQYFVlEYHSLpouIrXdJas+QN+uah+ANBskxO0h/s4Z6gQltItP/8yZOXP+M0f69fMHHh4e8Pv+HrPZDMvlEtvtFpvN5gVunHS9XgtWqxUWiwXm87nIlfq9DtrtNgqFPMqlMsrlMioVVytiXSwWxZ4olkoolYrI5/OCQqEgztPpNKbTCaTXZ2dQYzFEFAUxTYMSiSAcDkOWZaGHCIVCAncf4TkejwfD4RBSo1pDzrRg6BoSTAOLa9D4w/F4XGiMF3OVYoSqqlC4ARfGGHw+H8bjMaTamyrshA4nacAJa9BlJioeglwTz+NUwOv1YjQaQWrW6rCZjrAcAVNUTlRcenIQRTR6GDonJfePDuv1GjJOCraZgG0ZSFkWbNuGYejQdV1cppZI99G0p3gikUAwGMRgMIDUarzFicVwYsrImBp/0OYFHH4p/sKJ6/p5y3RGDnu9Hh9Ks4Xj3CliegpGysTRURamaYpL9DfkgjH10RnFDj3o9/vR7/f5HzYbcGwTSe7I0Hetkjua7P6U99c0aWrTnTytA4HA7sH+eQ3NnIxqJoyKk0U6mYNK7UWpsvJXdyh7SkQUWajKqOVX6HY7kNrNHk6P87D0NGzD5uSQSmZgJB2Y/yFlZOBYOVhGFpaZhcYMXLy7hDS5aWBy08TVlxau77r4eHuO69vOv7nb6ZTnffjaxnued/W5hYvrCr59/4Q/RsCVY3q6wPwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"02\"\n        title=\"02\"\n        src=\"/static/7338b5bcb37ddacfbdbced13f968a097/f058b/02.png\"\n        srcset=\"/static/7338b5bcb37ddacfbdbced13f968a097/c26ae/02.png 158w,\n/static/7338b5bcb37ddacfbdbced13f968a097/6bdcf/02.png 315w,\n/static/7338b5bcb37ddacfbdbced13f968a097/f058b/02.png 630w,\n/static/7338b5bcb37ddacfbdbced13f968a097/0012b/02.png 661w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<em>やったね</em></p>\n<h2>解説</h2>\n<p>色がおかしいのは 256 色表示ができていないから<br>\n<code class=\"language-text\">tmux -2</code>で tmux を強制 256 色表示にできる</p>\n<h2>うまくいかなかった解決策</h2>\n<ul>\n<li>\n<p>.tmux.conf の編集</p>\n<ul>\n<li><code class=\"language-text\">set -g default-terminal &quot;tmux-256color&quot;</code> の追記</li>\n<li><code class=\"language-text\">set -g default-terminal &quot;screen-256color&quot;</code> の追記</li>\n<li><code class=\"language-text\">set-option -g default-terminal &quot;xterm&quot;</code> の追記</li>\n</ul>\n</li>\n<li>\n<p>.bashrc の編集</p>\n<ul>\n<li><code class=\"language-text\">export TERM=xterm-256color</code> の追記</li>\n</ul>\n</li>\n</ul>\n<h2>検証したこと</h2>\n<p>表示がおかしいときに vim で以下のコマンドを行なった</p>\n<div class=\"gatsby-highlight\" data-language=\"vim:vim\"><pre class=\"language-vim:vim\"><code class=\"language-vim:vim\">:echo &amp;term     # screen\n:echo &amp;t_Co     # 256</code></pre></div>\n<p>ちゃんと 256 色表示になっているから色が vim で色が限定されているわけではなさそう？<br>\n<code class=\"language-text\">.vimrc</code>を読み込んでないだけなら番号やカーソル表示もできなくなるべきだし、理由が分からない。</p>\n<h2>まとめ</h2>\n<p><code class=\"language-text\">tmux -2</code>と<code class=\"language-text\">set -g ......</code>が必ずしも等価でない可能性がある。<br>\nそれが分かれば解決しそうなんだけど…力不足でした。</p>","fields":{"slug":"/trouble-shooting-tmux-vim-color/"},"frontmatter":{"title":"トラブルシュート：tmux上のvimでmolokaiカラースキームがおかしい","created":"2021-03-20T17:24","updated":"2021-03-20T18:01","description":"おかしい","tag":["tmux","vim","trouble-shooting"],"author":["nozzle"],"category":"tech"}},"previous":{"fields":{"slug":"/kon20210319/"},"frontmatter":{"title":"日記"}},"next":{"fields":{"slug":"/noz20210401/"},"frontmatter":{"title":"日記"}},"relatedPosts":{"totalCount":4,"edges":[{"node":{"fields":{"slug":"/trouble-shooting-tmux-vim-color/"},"frontmatter":{"title":"トラブルシュート：tmux上のvimでmolokaiカラースキームがおかしい"}}},{"node":{"fields":{"slug":"/trouble-shooting-moduleerror-ndef/"},"frontmatter":{"title":"nfcpyの実験中\"ModuleNotFoundError No module named 'ndef'が出た"}}},{"node":{"fields":{"slug":"/trouble-shooting-EPERM-npm-install/"},"frontmatter":{"title":"トラブルシュート：npm installすると、\"Error EPERM operation not permitted, unlink ...\"が出る"}}},{"node":{"fields":{"slug":"/vim-command/"},"frontmatter":{"title":"Vimのコマンド"}}}]}},"pageContext":{"id":"8bf30d77-1a0b-59da-b6b8-74f1e4d04d6e","previousPostId":"df6624a2-0cf2-5e91-bbf9-6edac53f5aba","nextPostId":"a078e6c4-39fb-52d3-9f5c-86fe665f4295","category":"tech","tagList":["tmux","vim","trouble-shooting"]}},"staticQueryHashes":["3284037645","500847697"]}