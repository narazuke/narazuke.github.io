{"componentChunkName":"component---src-templates-blog-post-js","path":"/cmake/","result":{"data":{"site":{"siteMetadata":{"title":"NARAZUKE","author":[{"name":"nozzle","summary":"who lives in gummaken.","social":{"github":"nozzlex3"}},{"name":"konnyaku","summary":"who is known as Siege Sukosuko Samurai.","social":{"github":"wabetarou"}}]}},"markdownRemark":{"id":"ede95e03-9d7f-5a9a-b88b-3247eea1e439","excerpt":"ãã£ã‹ã‘ ã‚¢ãƒ¼ã‚¯ãƒŠã‚¤ãƒ„è‡ªå‹•å‘¨å›ã®è¨˜äº‹ã§c++ã‚’ä½¿ã£ãŸãŒã€\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ã‚‰pkg-configã‚„ã‚‰ã‚’å…¥åŠ›ã—ã¦ã„ãŸã®ã§ã€å¤§å¤‰ã€‚ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã„æ™‚ã«ã„ã¡ã„ã¡ãƒ¡ãƒ¢ã‚’é–‹ã‹ãªã„ã¨ã„ã‘ãªã„ã€‚ cmakeã‚’ä½¿ãˆã°ãã‚“ãªã“ã¨ã‚’ã—ãªãã¦ã„ã„æ°—ãŒã™ã‚‹ã®ã§ä½¿ã£ã¦ã¿ã‚‹ã€‚ ã¾ãšã¯åŸºæœ¬ã‚’ã‚„ã£ã¦ã¿ã‚‹ main.cppâ€¦","html":"<h3>ãã£ã‹ã‘</h3>\n<p><a href=\"https://narazuke.github.com/arknights-auto\">ã‚¢ãƒ¼ã‚¯ãƒŠã‚¤ãƒ„è‡ªå‹•å‘¨å›</a>ã®è¨˜äº‹ã§c++ã‚’ä½¿ã£ãŸãŒã€\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ã‚‰pkg-configã‚„ã‚‰ã‚’å…¥åŠ›ã—ã¦ã„ãŸã®ã§ã€å¤§å¤‰ã€‚</p>\n<pre><code class=\"language-shell\">g++ -std=c++11 -framework CoreGraphics -framework CoreFoundation main.cpp `pkg-config --cflags opencv4` `pkg-config --libs opencv4`\n</code></pre>\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã„æ™‚ã«ã„ã¡ã„ã¡ãƒ¡ãƒ¢ã‚’é–‹ã‹ãªã„ã¨ã„ã‘ãªã„ã€‚</p>\n<p>cmakeã‚’ä½¿ãˆã°ãã‚“ãªã“ã¨ã‚’ã—ãªãã¦ã„ã„æ°—ãŒã™ã‚‹ã®ã§ä½¿ã£ã¦ã¿ã‚‹ã€‚</p>\n<h3>ã¾ãšã¯åŸºæœ¬ã‚’ã‚„ã£ã¦ã¿ã‚‹</h3>\n<ol>\n<li>\n<p>main.cppã¨CMakeLists.txtã‚’æ›¸ã</p>\n<pre><code class=\"language-cpp:title=main.cpp\">#include &#x3C;iostream>\nint main() {\nstd::cout &#x3C;&#x3C; \"Hello, world!\" &#x3C;&#x3C; std::endl;\nreturn 0;\n}\n</code></pre>\n<pre><code class=\"language-t:title=CMakeLists.txt\">cmake_minimum_required(VERSION 3.1)\nproject(hello_world CXX)\nadd_executable(main_app main.cpp)\n</code></pre>\n</li>\n<li>\n<p>buildãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã‚‹(ã”ã¡ã‚ƒã”ã¡ã‚ƒã™ã‚‹ã‹ã‚‰)</p>\n<pre><code>&#x3C;ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª>\n|-main.cpp\n|-CMakeLists.txt\n|-build/\n</code></pre>\n</li>\n<li>\n<p>buildãƒ•ã‚©ãƒ«ãƒ€å†…ã§Configureã¨Generateã‚’å®Ÿè¡Œã™ã‚‹</p>\n<pre><code class=\"language-shell:title=shell\">cmake ..\n</code></pre>\n<p><code>..</code>ã¯CmakeList.txtã®å ´æ‰€ã‚’ç¤ºã™\n<img src=\"./configure.png\"></p>\n</li>\n<li>\n<p>ãƒ“ãƒ«ãƒ‰ã™ã‚‹</p>\n<pre><code class=\"language-shell:title=shell\">cmake --build . \n</code></pre>\n<p><code>.</code>ã¯buildãƒ•ã‚©ãƒ«ãƒ€ã‚’ç¤ºã™</p>\n</li>\n</ol>\n<p><img src=\"./build.png\"></p>\n<ol start=\"5\">\n<li>çµæœ</li>\n</ol>\n<p><img src=\"./result.png\"></p>\n<h3>å®Ÿéš›ã«cmakeã‚’é©ç”¨ã—ã¦ã¿ã‚‹</h3>\n<h4>å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å°å…¥</h4>\n<p>ã¨ã‚Šã‚ãˆãšä¸Šè¨˜ã®CMakeLists.txtã®ã¾ã¾ã‚„ã£ã¦ã¿ãŸã‚‰å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®includeã§ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã—ãŸã®ã§ã‚„ã£ã¦ã¿ã‚‹ã€‚</p>\n<p><code>find_package()</code>ã§å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ¢ã›ã‚‹ã€‚\nCMakeLists.txtã«<code>find_package(OpenCV 4.5.1)</code>ã¨ã„ã†ä¸€æ–‡ã‚’è¿½åŠ ã—ãŸã‚‰ã¡ã‚ƒã‚“ã¨æ¢ã›ãŸã€‚</p>\n<pre><code class=\"language-shell:title=shell\">-- Found OpenCV: /usr/local/Cellar/opencv/4.5.1_2 (found suitable version \"4.5.1\", minimum required is \"4.5.1\") \n</code></pre>\n<p>æœ€çµ‚çš„ã«<a href=\"https://cha-shu00.hatenablog.com/entry/2018/09/02/143853\">ã€C++ã€‘OpenCV3ã‚’OSXã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦cmakeã§å„ªå‹ğŸ’ªğŸ’ªã€å®Œå…¨ã«ç†è§£ã—ãŸã€‘</a>\nã‚’ã‚³ãƒ”ãƒšã—ãŸ</p>\n<pre><code class=\"language-t:title=CMakeLists.txt\">cmake_minimum_required(VERSION 3.1)\nproject(arknights_auto CXX)\nset(CMAKE_CXX_STANDARD 11)\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -Wall\")\nfind_package(OpenCV 4.5.1 REQUIRED)\ninclude_directories( ${OpenCV_INCLUDE_DIRS} )\nadd_executable(main_app main.cpp)\ntarget_link_libraries(main_app ${OpenCV_LIBS})\n</code></pre>\n<p><code>CMAKE_CXX_STANDARD</code>ã«ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€\n<code>CMAKE_CXX_FLAGS</code>ã«optionã‚’ã‚»ãƒƒãƒˆã§ãã‚‹ã€‚\nã“ã“ã§ã¯ç›´æ¥å…¥åŠ›å€¤ã‚’ä»£å…¥ã§ãã‚‹ãŒã€<code>add_definitions</code>ã§ã‚‚è¨­å®šã§ãã‚‹ã€‚\n<code>include_directories</code>ã§includeã—ã¦ã€\n<code>target_link_libraries</code>ã§opencvã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ãƒªãƒ³ã‚¯ã—ã¦ã„ã‚‹ã€‚\nãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚‚ã“ã‚Œã§æŒ‡å®šã§ãã‚‹ã€‚\nã§ã‚‚<code>target_link_libraries</code>ã¯ä½¿ã‚ãªã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚ãƒªãƒ³ã‚¯ã™ã‚‹ã‹ã‚‰ã‚ˆããªã„ã‚‰ã—ã„ã€‚\nCoreGraphicsã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚‚ã“ã‚Œã§å…¥ã‚Œã‚‹ã€‚\næœ€çµ‚çš„ã«ã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚</p>\n<pre><code class=\"language-t:title=CMakeLists.txt\">cmake_minimum_required(VERSION 3.1)\nproject(arknights_auto CXX)\nset(CMAKE_CXX_STANDARD 11)\nadd_definitions(-std=c++11 -Wall)\nfind_package(OpenCV 4.5.1 REQUIRED)\ninclude_directories( ${OpenCV_INCLUDE_DIRS} )\nadd_executable(main_app main.cpp)\ntarget_link_libraries(main_app ${OpenCV_LIBS})\ntarget_link_libraries(main_app \"-framework CoreGraphics\")\ntarget_link_libraries(main_app \"-framework CoreFoundation\")\n</code></pre>\n<p><img src=\"./final.png\"></p>\n<h3>å‚è€ƒ</h3>\n<p><a href=\"https://kamino.hatenablog.com/entry/cmake_tutorial1\">å‹æ‰‹ã«ä½œã‚‹CMakeå…¥é–€ ãã®1 åŸºæœ¬çš„ãªä½¿ã„æ–¹</a></p>\n<p><a href=\"https://qiita.com/sanishi_pompom/items/02b158dfad3a5dafd0a1\">OpenCV4.1.0ã‚’CMakeã‚’ä½¿ã£ã¦å°å…¥ã™ã‚‹æ–¹æ³•(Visual Studio 2019)</a></p>\n<p><a href=\"https://cha-shu00.hatenablog.com/entry/2018/09/02/143853\">ã€C++ã€‘OpenCV3ã‚’OSXã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦cmakeã§å„ªå‹ğŸ’ªğŸ’ªã€å®Œå…¨ã«ç†è§£ã—ãŸã€‘</a></p>\n<p><a href=\"https://qiita.com/progrhyme/items/c0f21e2a71cfe6fdb7a8\">CMakeè¦šãˆæ›¸ã</a></p>\n<p>æœ€å¾Œã®ãƒªãƒ³ã‚¯ã¯é …ç›®åŒ–ã—ã¦ã‚ã£ã¦ã‚ã‹ã‚Šã‚„ã™ã„</p>","fields":{"slug":"/cmake/"},"frontmatter":{"title":"cmakeã‚’ã¤ã‹ã†","created":"2021-02-20T10:23","updated":"2021-02-22T13:18","description":"ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’æ¥½ã«ã—ãŸã„ã®ã§cmakeã¤ã‹ã„ã¾ã™","tag":["cmake","cpp"],"author":["konnyaku"],"category":"tech"}},"previous":{"fields":{"slug":"/kon20210219/"},"frontmatter":{"title":"æ—¥è¨˜"}},"next":{"fields":{"slug":"/kon20210220/"},"frontmatter":{"title":"æ—¥è¨˜"}},"relatedPosts":{"totalCount":4,"edges":[{"node":{"fields":{"slug":"/optitrack/"},"frontmatter":{"title":"optitrack"}}},{"node":{"fields":{"slug":"/cpp-memo/"},"frontmatter":{"title":"c++ã®optionã«ã¤ã„ã¦"}}},{"node":{"fields":{"slug":"/cpp-option/"},"frontmatter":{"title":"c++ã®optionã«ã¤ã„ã¦"}}},{"node":{"fields":{"slug":"/cmake/"},"frontmatter":{"title":"cmakeã‚’ã¤ã‹ã†"}}}]}},"pageContext":{"id":"ede95e03-9d7f-5a9a-b88b-3247eea1e439","previousPostId":"0c39dcb0-4631-57f4-9e34-735ef9bea280","nextPostId":"447f5da5-c1a4-574f-978d-dc1663d2bf4c","category":"tech","tagList":["cmake","cpp"]}},"staticQueryHashes":["3284037645","500847697"]}