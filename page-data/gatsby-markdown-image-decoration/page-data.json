{"componentChunkName":"component---src-templates-blog-post-js","path":"/gatsby-markdown-image-decoration/","result":{"data":{"site":{"siteMetadata":{"title":"NARAZUKE","author":[{"name":"nozzle","summary":"who lives in gummaken.","social":{"github":"nozzlex3"}},{"name":"konnyaku","summary":"who is known as Siege Sukosuko Samurai.","social":{"github":"wabetarou"}}]}},"markdownRemark":{"id":"b1f033b8-4bbe-5934-bd58-b66fa16a2f38","excerpt":"経緯 CSS がコンフリクトした\n 理由 markdown に画像をアップロードしても自由にクラスを指定できず細かい設定ができない!!! 引用元:gatsby の image について 解決策 CSS の部分文字セレクタを使って alt 属性の部分一致を使う。 解説 [foo^=\"bar\"]{} : foo…","html":"<h2>経緯</h2>\n<p>CSS がコンフリクトした\n<img src=\"./blog-image_02.png\"></p>\n<h2>理由</h2>\n<blockquote>\n<p>markdown に画像をアップロードしても自由にクラスを指定できず細かい設定ができない!!!</p>\n</blockquote>\n<p>引用元:<a href=\"https://narazuke.github.io/gatsby_image/\">gatsby の image について</a></p>\n<h2>解決策</h2>\n<p>CSS の部分文字セレクタを使って alt 属性の部分一致を使う。</p>\n<h2>解説</h2>\n<ul>\n<li><code>[foo^=\"bar\"]{}</code> : foo 属性の bar 前方一致</li>\n<li><code>[foo$=\"bar\"]{}</code> : foo 属性の bar 後方一致</li>\n<li><code>[foo*=\"bar\"]{}</code> : foo 属性の bar 部分一致</li>\n</ul>\n<h2>使用例</h2>\n<h3>基本</h3>\n<pre><code class=\"language-markdown\">![lenna](lenna.jpg)\n</code></pre>\n<p><img src=\"lenna.jpg\" alt=\"lenna\"></p>\n<h3>反転</h3>\n<p>src/style.css に、alt 属性に<code>--reverse</code>が含まれると反転する CSS を書く。<br>\nimg と[]の間に空白があると失敗します。</p>\n<pre><code class=\"language-css:title=src/style.css\">/* alt属性に--reverseを含むと左右反転する */\nimg[alt*=\"--reverse\"] {\n  transform: scale(-1, 1);\n}\n</code></pre>\n<pre><code class=\"language-markdown\">![lenna --reverse](lenna.jpg)\n</code></pre>\n<p><img src=\"lenna.jpg\" alt=\"lenna --reverse\"></p>\n<p>反転できている。</p>\n<h3>パディング</h3>\n<p>src/style.css に、alt 属性に<code>--my-padding</code> を含むと padding を設ける CSS を書く</p>\n<pre><code class=\"language-css\">/* alt属性に--my-paddingを含むと上下に10%, 左右に25%の空白を作る */\nimg[alt*=\"--my-padding\"] {\n  padding: 10% 25%;\n}\n</code></pre>\n<pre><code class=\"language-markdown\">![lenna --my-padding](lenna.jpg)\n</code></pre>\n<p><img src=\"lenna.jpg\" alt=\"lenna --my-padding\"></p>\n<p>できている。<br>\nこのページを再読み込みしてほしい。padding した領域に一瞬ブラーの残像が表示されるのが分かると思う。\ngatsby-image の blur-up で読込中にブラーを表示する設定にしているためである。この時表示される base64 の画像には CSS が適用されないため、このような表示になってしまう。</p>\n<h3>マージン</h3>\n<p>src/style.css に、alt 属性に<code>--my-margin</code> を含むと margin を設ける CSS を書く<br>\n通常の場合 gatsby-image の CSS が優先されてしまうため、CSS に<code>!important</code>をつけて、style.css を優先させる。</p>\n<pre><code class=\"language-css\">/* alt属性に--my-marginを含むと上下左右15%の空白を作る */\nimg[alt*=\"--my-margin\"] {\n  margin: 15% !important;\n}\n</code></pre>\n<pre><code class=\"language-markdown\">![lenna --my-margin](lenna.jpg)\n</code></pre>\n<p><img src=\"lenna.jpg\" alt=\"lenna --my-margin\">\n...<br>\n...<br>\n...<br>\n...<br>\nblur-up の画像がずれて、読み込み中とは思えないおかしな挙動に見える。</p>\n<h2>まとめ</h2>\n<p>alt 属性を利用した Markdown の画像への CSS の適用法は、個々の記事ですこしだけ装飾したい時などに便利である。 もしこの方法で padding や margin を作るときは、blur-up の設定は削除したほうが良いかもしれない。</p>","fields":{"slug":"/gatsby-markdown-image-decoration/"},"frontmatter":{"title":"gatsbyの特定のimgにCSSを適用","created":"2021-02-10T11:04","updated":"2021-02-15T18:03","description":"CSSの部分文字セレクタを使って、Markdownの特定の画像を装飾する","tag":["css","gatsby"],"author":["nozzle"],"category":"tech"}},"previous":{"fields":{"slug":"/linux-command-filesystem/"},"frontmatter":{"title":"Linuxのファイルシステムコマンドまとめ"}},"next":{"fields":{"slug":"/favorite-book/"},"frontmatter":{"title":"好きな本"}},"relatedPosts":{"totalCount":7,"edges":[{"node":{"fields":{"slug":"/gatsby-math/"},"frontmatter":{"title":"web 上 で tex の数学記法を使う"}}},{"node":{"fields":{"slug":"/gitalk-latest-display/"},"frontmatter":{"title":"gitalkの最新コメントをgatsbyに表示する"}}},{"node":{"fields":{"slug":"/gatsby-embed-link/"},"frontmatter":{"title":"gatsbyにyoutube,twitterのリンクを埋め込む"}}},{"node":{"fields":{"slug":"/gatsby-gitalk/"},"frontmatter":{"title":"GitalkでGatsbyにコメント欄を導入"}}},{"node":{"fields":{"slug":"/gatsby-markdown-image-decoration/"},"frontmatter":{"title":"gatsbyの特定のimgにCSSを適用"}}},{"node":{"fields":{"slug":"/gatsby-image/"},"frontmatter":{"title":"gatsbyのimageについて"}}},{"node":{"fields":{"slug":"/gatsby-environment-settings/"},"frontmatter":{"title":"gatsby環境設定"}}}]}},"pageContext":{"id":"b1f033b8-4bbe-5934-bd58-b66fa16a2f38","previousPostId":"a2015e2c-0e29-5e94-9ccb-b5b0922ff1cd","nextPostId":"6489014e-041f-531d-acf2-ce0a04f41aab","category":"tech","tagList":["css","gatsby"]}},"staticQueryHashes":["3284037645","500847697"]}