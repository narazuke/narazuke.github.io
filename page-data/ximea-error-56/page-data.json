{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/ximea-error-56/",
    "result": {"data":{"site":{"siteMetadata":{"title":"NARAZUKE","author":[{"name":"nozzle","summary":"who lives in gummaken.","social":{"github":"nozzlex3"}},{"name":"konnyaku","summary":"who is known as Siege Sukosuko Samurai.","social":{"github":"wabetarou"}}]}},"markdownRemark":{"id":"6ba9852d-f86a-536e-9505-a635c3413d0c","excerpt":"事の発端 カメラを接続してもプログラム上では反応しない！！！\nどうして！！！ みたいな感じです。 mac 公式から softwareupdate…","html":"<h3>事の発端</h3>\n<p>カメラを接続してもプログラム上では反応しない！！！\nどうして！！！</p>\n<p>みたいな感じです。</p>\n<ul>\n<li>mac</li>\n<li>公式から softwareupdate して、表記に従って環境設定はした</li>\n</ul>\n<h3>解決策</h3>\n<p>アプリケーションを起動している時にはプログラムではカメラは反応しない！！！\nアプリケーションを終了してからプログラムを実行すればカメラをちゃんと見つけてくれる。</p>\n<p>色々調べたけど見つからない時は人に聞くのが一番ですね</p>\n<p>以下調べた時にやったこと。全て徒労。</p>\n<h3>状況</h3>\n<div class=\"gatsby-code-title\">shell</div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token function\">make</span> <span class=\"token assign-left variable\">GST10</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>\nc++ streamViewer.o getnsview.o -Wl,-headerpad_max_install_names -mmacosx-version-min<span class=\"token operator\">=</span><span class=\"token number\">10.7</span> -o streamViewer <span class=\"token variable\"><span class=\"token variable\">`</span>pkg-config --libs gtk+-2.0 gstreamer-app-1.0 gstreamer-video-1.0<span class=\"token variable\">`</span></span> -F<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/bin/OSX -framework m3api\nclang: warning: libstdc++ is deprecated<span class=\"token punctuation\">;</span> move to libc++ with a minimum deployment target of OS X <span class=\"token number\">10.9</span> <span class=\"token punctuation\">[</span>-Wdeprecated<span class=\"token punctuation\">]</span>\nld: warning: directory not found <span class=\"token keyword\">for</span> option <span class=\"token string\">'-F../../bin/OSX'</span>\nld: framework not found m3api\nclang: error: linker <span class=\"token builtin class-name\">command</span> failed with <span class=\"token builtin class-name\">exit</span> code <span class=\"token number\">1</span> <span class=\"token punctuation\">(</span>use -v to see invocation<span class=\"token punctuation\">)</span>\nmake: *** <span class=\"token punctuation\">[</span>streamViewer<span class=\"token punctuation\">]</span> Error <span class=\"token number\">1</span></code></pre></div>\n<h3>予想：フレームワークのインストール先の違い</h3>\n<p>software pacage に入っている Install を起動した時に ximea のための framework である m3api.framework を\n入れているが、\n<code class=\"language-text\">Installing m3api framework to /Library/Frameworks</code>\nという表記の通り<code class=\"language-text\">/Library/Frameworks</code>に入っている。\nしかし実際には<code class=\"language-text\">/System/Library/Frameworks</code>を探している。</p>\n<p>詳しくは<a href=\"https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPFrameworks/Tasks/InstallingFrameworks.html\">Installing Your Framework</a>に書いてそう</p>\n<p>ここでの説明では<code class=\"language-text\">/Library/Frameworks</code>の次に<code class=\"language-text\">/System/Library/Frameworks</code>を探すそうだ。\n<code class=\"language-text\">/Library/Frameworks</code>には確かに<code class=\"language-text\">m3api.framwork</code>が存在するが、<code class=\"language-text\">not found</code>になるのはなぜだろう。</p>\n<p>もう少し詳しく調べてみると<a href=\"https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPFrameworks/Tasks/IncludingFrameworks.html#//apple_ref/doc/uid/20002257-BAJJBBHJ\">Including Frameworks</a>に次のようなことが書いてある。</p>\n<blockquote>\n<p>Note: If you are not using Xcode to build your project, you must use the -framework option of GCC and ld to build and link against the specified framework. See the gcc and ld man pages for more information.</p>\n</blockquote>\n<p><code class=\"language-text\">-framework</code>を使う場合は Xcode を使うわけではないので、gcc か ld のページを参考にするべきだという話なので見てみる。とりあえず link とやらができてなさそう。リンクってなんぞや。</p>\n<p>(参考)</p>\n<p><a href=\"https://kamino.hatenablog.com/entry/c%2B%2B-principle-of-build-library\">C/C++のビルドの仕組みとライブラリ</a></p>\n<p><a href=\"https://qiita.com/argama147/items/2f636a2f4fd76f6ce130\">ライブラリのリンク方法をきっちり区別しよう</a></p>\n<ul>\n<li>c/c++でライブラリを使う時は静的ライブラリと動的ライブラリと動的読み込みがある</li>\n<li>静的ライブラリを使う時は<strong>ヘッダファイル</strong>と<strong>静的リンクライブラリファイル</strong>が必要</li>\n<li>*.a や*.lib(windows) は静的リンクライブラリファイル</li>\n<li>*.dylib(so)は動的リンク、*.bundle(so)は動的読み込み(Mac)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">gcc main.c -I <span class=\"token operator\">&lt;</span>mylib.hがあるディレクトリへのパス<span class=\"token operator\">></span> -L <span class=\"token operator\">&lt;</span>libmylib.aがあるディレクトリへのパス<span class=\"token operator\">></span> -l mylib</code></pre></div>\n<ul>\n<li><code class=\"language-text\">-I</code>ではヘッダファイルパス、<code class=\"language-text\">-L</code>では静的リンクライブラリパス、<code class=\"language-text\">-l</code>ではライブラリの名前を入力する。</li>\n</ul>\n<p>これを参考に<code class=\"language-text\">-framework</code>を使わずに include してみる。</p>\n<p>m3api.framework の中身を調べるとちゃんと Headers と Libraries というフォルダが存在する！！</p>\n<p>けどだめでした。<code class=\"language-text\">-L</code>がオプションとして認識されていない。というか中身も dylib で動的リンク。</p>\n<p>dylib は動的リンクなので<code class=\"language-text\">-l</code>だけで良さそう。</p>\n<p>だめだった。</p>\n<h3>解決策</h3>\n<p><code class=\"language-text\">-F</code>で m3api が存在する<code class=\"language-text\">/Library/Frameworks</code>を指定したら error がなくなった!!!</p>\n<p><code class=\"language-text\">-F</code>で framework の検索パスを追加できるみたい。</p>\n<p>(参考)<a href=\"https://developer.apple.com/forums/thread/94661\">How to change framework search paths?</a></p>\n<p>だけど新しいエラーがでた</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ld: library not found for -lstdc++</code></pre></div>\n<p>なにこれ。</p>\n<h3>新しいエラーに対して</h3>\n<div class=\"gatsby-code-title\">shell</div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> mdfind stdc++ <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> stdc++\n/usr/local/Cellar/gcc/10.2.0_4/include/c++/10.2.0/x86_64-apple-darwin20/bits/stdc++.h</code></pre></div>\n<p>存在はする。</p>\n<div class=\"gatsby-code-title\">~/.zshrc</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">LIBRARY_PATH</span><span class=\"token operator\">=</span>/usr/local/Cellar/gcc/10.2.0_4/include/c++/10.2.0/x86_64-apple-darwin20/bits/</code></pre></div>\n<p>という感じで無理矢理通そうと思ってやったけどだめだった。\nこれヘッダファイルだから<code class=\"language-text\">-I</code>でやるべきかも。\nとおもったやったけどだめだった。/usr/local/include にコピーもしたけどだめだった。</p>","fields":{"slug":"/ximea-error-56/"},"frontmatter":{"title":"ximeaのnot found errorについて","created":"2021-03-02T17:59","updated":"2021-03-20T01:43","description":"対処法","tag":["ximea","camera","mac"],"author":["konnyaku"],"category":"tech"}},"previous":{"fields":{"slug":"/kon20210301/"},"frontmatter":{"title":"日記"}},"next":{"fields":{"slug":"/kon20210302/"},"frontmatter":{"title":"日記"}},"relatedPosts":{"totalCount":11,"edges":[{"node":{"fields":{"slug":"/nozzakkan004/"},"frontmatter":{"title":"雑感 四川省"}}},{"node":{"fields":{"slug":"/self-access-restriction/"},"frontmatter":{"title":"hostsを弄らせて欲を断つ"}}},{"node":{"fields":{"slug":"/mac-backslash/"},"frontmatter":{"title":"Macでバックスラッシュを入力する"}}},{"node":{"fields":{"slug":"/mac-setting-memo/"},"frontmatter":{"title":"M1 Mac環境構築メモ"}}},{"node":{"fields":{"slug":"/mac-impression/"},"frontmatter":{"title":"Mac所感"}}},{"node":{"fields":{"slug":"/ximea-error-56/"},"frontmatter":{"title":"ximeaのnot found errorについて"}}},{"node":{"fields":{"slug":"/cpp-option/"},"frontmatter":{"title":"c++のoptionについて"}}},{"node":{"fields":{"slug":"/cpp-memo/"},"frontmatter":{"title":"c++のoptionについて"}}},{"node":{"fields":{"slug":"/brew-doctor/"},"frontmatter":{"title":"brew doctorをやってみた"}}},{"node":{"fields":{"slug":"/xcode-error/"},"frontmatter":{"title":"xcode関連のerrorについて"}}},{"node":{"fields":{"slug":"/ximea-tutorial/"},"frontmatter":{"title":"ximeaカメラの環境設定"}}}]}},"pageContext":{"id":"6ba9852d-f86a-536e-9505-a635c3413d0c","previousPostId":"7e506556-88a8-5f01-b44c-c25f7478f7dc","nextPostId":"f599169e-5f8d-58ad-adf0-8c5a8c50118d","category":"tech","tagList":["ximea","camera","mac"]}},
    "staticQueryHashes": ["3284037645","500847697"]}